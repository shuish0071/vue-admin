{"remainingRequest":"D:\\Program Files\\python_project\\vue\\vue4-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\Program Files\\python_project\\vue\\vue4-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Program Files\\python_project\\vue\\vue4-admin\\src\\store\\modules\\app.js","dependencies":[{"path":"D:\\Program Files\\python_project\\vue\\vue4-admin\\src\\store\\modules\\app.js","mtime":1592745983954},{"path":"D:\\Program Files\\python_project\\vue\\vue4-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program Files\\python_project\\vue\\vue4-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Program Files\\python_project\\vue\\vue4-admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IExvZ2luIH0gZnJvbSAiQC9hcGkvbG9naW4iOwppbXBvcnQgeyBzZXRUb2tlbiwgc2V0VXNlcm5hbWUsIGdldFVzZXJuYW1lLCByZW1vdmVUb2tlbiwgcmVtb3ZlVXNlcm5hbWUgfSBmcm9tICJAL3V0aWxzL2FwcCI7CnZhciBzdGF0ZSA9IHsKICBpc0NvbGxhcHNlOiBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlzQ29sbGFwc2UiKSkgfHwgZmFsc2UsCiAgdG9rZW46ICIiLAogIHVzZXJuYW1lOiBnZXRVc2VybmFtZSgpIHx8ICIiCn07CnZhciBnZXR0ZXJzID0gewogIGlzQ29sbGFwc2U6IGZ1bmN0aW9uIGlzQ29sbGFwc2Uoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pc0NvbGxhcHNlOwogIH0gLy8gaXNDb2xsYXBzZTogY29va2llLmdldCgiaXNDb2xsYXBzZSIpIHx8IGZhbHNlCgp9Owp2YXIgbXV0YXRpb25zID0gewogIC8vIGNvbnRleHQucm9vdC4kc3RvcmUuY29tbWl0KCJTRVRfQ09MTEFQU0UiKSDlj6/ku6XmlLnlj5ggc3RhdGUuaXNDb2xsYXBzZSDlgLwKICBTRVRfQ09MTEFQU0U6IGZ1bmN0aW9uIFNFVF9DT0xMQVBTRShzdGF0ZSkgewogICAgc3RhdGUuaXNDb2xsYXBzZSA9ICFzdGF0ZS5pc0NvbGxhcHNlOyAvLyBodG1sNeacrOWcsOWtmOWCqO+8jOWPquiDveWtmOWtl+espuS4su+8jOaJgOS7pemcgOimgWpzb24g6L2s5qC85byPCiAgICAvLyBKU09OLnBhcnNlKCkg5a2X56ym5Liy6L2s5o2i5oiQ5a+56LGh77yMSlNPTi5zdHJpbmdpZnkoKSDlr7nosaHovazmjaLmiJDlrZfnrKbkuLIKCiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJpc0NvbGxhcHNlIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUuaXNDb2xsYXBzZSkpOyAvLyBjb29raWUuc2V0KCJpc0NvbGxhcHNlIiwgc3RhdGUuaXNDb2xsYXBzZSk7CiAgfSwKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnRva2VuID0gdmFsdWU7CiAgfSwKICBTRVRfVVNFUk5BTUU6IGZ1bmN0aW9uIFNFVF9VU0VSTkFNRShzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnVzZXJuYW1lID0gdmFsdWU7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyDlvILmraXvvJror7fmsYLmjqXlj6Pov5Tlm57mlbDmja7lkI7vvIzmjqXnnYDljrvlgZrliKvnmoTkuovmg4UKICAvLyDmr5TlpoLmjqXlj6NC6ZyA6KaB5o6l5Y+jQeeahOe7k+aenOS9nOS4uuWPguaVsAogIC8vIGxvZ2luKHsgY29udGVudCB9LCByZXF1ZXN0RGF0YSkgewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCByZXF1ZXN0RGF0YSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgLy8g5o6l5Y+jCiAgICAgIExvZ2luKHJlcXVlc3REYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7IC8vIOmcgOimgeWtmOWCqCB0b2tlbiB1c2VybmFtZe+8jHZ1ZXjlrZjkuIDku73vvIxjb29raWXlrZjkuIDku70KICAgICAgICAvLyDmma7pgJrmlrnlvI8KICAgICAgICAvLyBjb250ZW50LmNvbW1pdCgiU0VUX1RPS0VOIiwgZGF0YS50b2tlbik7CiAgICAgICAgLy8gY29udGVudC5jb21taXQoIlNFVF9VU0VSTkFNRSIsIGRhdGEudXNlcm5hbWUpOwogICAgICAgIC8vIOino+aehOaWueW8jwoKICAgICAgICBjb21taXQoIlNFVF9UT0tFTiIsIGRhdGEudG9rZW4pOwogICAgICAgIGNvbW1pdCgiU0VUX1VTRVJOQU1FIiwgZGF0YS51c2VybmFtZSk7CiAgICAgICAgc2V0VG9rZW4oZGF0YS50b2tlbik7CiAgICAgICAgc2V0VXNlcm5hbWUoZGF0YS51c2VybmFtZSk7CiAgICAgICAgY29uc29sZS5sb2coZGF0YS50b2tlbik7CiAgICAgICAgY29uc29sZS5sb2coZGF0YS51c2VybmFtZSk7CiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dChfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICByZW1vdmVUb2tlbigpOwogICAgICByZW1vdmVVc2VybmFtZSgpOwogICAgICBjb21taXQoIlNFVF9UT0tFTiIsICIiKTsKICAgICAgY29tbWl0KCJTRVRfVVNFUk5BTUUiLCAiIik7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["D:/Program Files/python_project/vue/vue4-admin/src/store/modules/app.js"],"names":["Login","setToken","setUsername","getUsername","removeToken","removeUsername","state","isCollapse","JSON","parse","sessionStorage","getItem","token","username","getters","mutations","SET_COLLAPSE","setItem","stringify","SET_TOKEN","value","SET_USERNAME","actions","login","requestData","commit","Promise","resolve","reject","then","response","console","log","data","catch","error","Logout","namespaced"],"mappings":"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","sourcesContent":["import { Login } from \"@/api/login\";\r\nimport {\r\n  setToken,\r\n  setUsername,\r\n  getUsername,\r\n  removeToken,\r\n  removeUsername\r\n} from \"@/utils/app\";\r\n\r\nconst state = {\r\n  isCollapse: JSON.parse(sessionStorage.getItem(\"isCollapse\")) || false,\r\n  token: \"\",\r\n  username: getUsername() || \"\"\r\n};\r\nconst getters = {\r\n  isCollapse: state => state.isCollapse\r\n  // isCollapse: cookie.get(\"isCollapse\") || false\r\n};\r\nconst mutations = {\r\n  // context.root.$store.commit(\"SET_COLLAPSE\") 可以改变 state.isCollapse 值\r\n  SET_COLLAPSE(state) {\r\n    state.isCollapse = !state.isCollapse;\r\n    // html5本地存储，只能存字符串，所以需要json 转格式\r\n    // JSON.parse() 字符串转换成对象，JSON.stringify() 对象转换成字符串\r\n    sessionStorage.setItem(\"isCollapse\", JSON.stringify(state.isCollapse));\r\n    // cookie.set(\"isCollapse\", state.isCollapse);\r\n  },\r\n  SET_TOKEN(state, value) {\r\n    state.token = value;\r\n  },\r\n  SET_USERNAME(state, value) {\r\n    state.username = value;\r\n  }\r\n};\r\nconst actions = {\r\n  // 异步：请求接口返回数据后，接着去做别的事情\r\n  // 比如接口B需要接口A的结果作为参数\r\n  // login({ content }, requestData) {\r\n  login({ commit }, requestData) {\r\n    return new Promise((resolve, reject) => {\r\n      // 接口\r\n      Login(requestData)\r\n        .then(response => {\r\n          console.log(response.data.data);\r\n          let data = response.data.data;\r\n          // 需要存储 token username，vuex存一份，cookie存一份\r\n          // 普通方式\r\n          // content.commit(\"SET_TOKEN\", data.token);\r\n          // content.commit(\"SET_USERNAME\", data.username);\r\n          // 解构方式\r\n          commit(\"SET_TOKEN\", data.token);\r\n          commit(\"SET_USERNAME\", data.username);\r\n          setToken(data.token);\r\n          setUsername(data.username);\r\n          console.log(data.token);\r\n          console.log(data.username);\r\n          resolve(response);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n  Logout({ commit }) {\r\n    return new Promise(resolve => {\r\n      removeToken();\r\n      removeUsername();\r\n      commit(\"SET_TOKEN\", \"\");\r\n      commit(\"SET_USERNAME\", \"\");\r\n      resolve();\r\n    });\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n};\r\n"]}]}